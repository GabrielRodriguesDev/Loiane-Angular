<form #form="ngForm" (ngSubmit)="onSubmit(form)" style="margin-top: 10px;">
    <div class="form-group" [ngClass]="errorStyle(name)"> <!--Fazendo formatação de erros com CSS usando as  classes de forms do Angular (estados do angular sobre os campos : ng-touched & ng-unthouched - ng-dirty &  ng-pristine....), juntamente com classes do framwork CSS-->
      <div>
        <label for="nome">Nome</label>
      </div> 
      <div >
        <input type="text" class="form-control" name="name" 
        id="nome" placeholder="Nome" [(ngModel)]="user.name"
        required #name="ngModel">
        <app-field-control-error 
          [showError]="checksValidTouched(name)" 
          errorMessage="Nome">
        </app-field-control-error> <!--Utilizando um componente externo para mostrar o erro.-->
      </div> 
    </div>

    <div class="form-group" [ngClass]="errorStyle(email)"> <!--Fazendo formatação de erros com CSS usando as  classes de forms do Angular (estados do angular sobre os campos : ng-touched & ng-unthouched - ng-dirty &  ng-pristine....), juntamente com classes do framwork CSS-->
      <div >
        <label for="email">Email</label>
      </div>
      <div >
        <input type="email" class="form-control" name="email"
        id="email" placeholder="nome@email.com" [(ngModel)]="user.email"
        required email #email="ngModel" > <!--Podemos fazer tanto o Two-way-data-binding [(ngModel)] como o Property Binding [ngModel] com o template driven  -->
        <app-field-control-error 
          [showError]="checksValidTouched(email)" 
          errorMessage="Email">
        </app-field-control-error> <!--Utilizando um componente externo para mostrar o erro.-->
      </div>
    </div> 

    <div ngModelGroup="Endereco">
      <div class="form-row ">
        <div class="form-group col-md-3" [ngClass]="errorStyle(cep)">
          <label for="cep">CEP</label>
          <input type="text" class="form-control" id="cep"
          name="cep" ngModel required #cep="ngModel"
          (blur)="CEPquery($event.target.value, form)">
          <app-field-control-error 
            [showError]="checksValidTouched(cep)" 
            errorMessage="CEP">
          </app-field-control-error>
        </div>   

        <div class="form-group col-md-3" [ngClass]="errorStyle(number)">
          <label for="number">Número</label>
          <input type="text" class="form-control" id="numero"
          name="number" ngModel required #number="ngModel">
          <app-field-control-error 
            [showError]="checksValidTouched(number)" 
            errorMessage="Número">
          </app-field-control-error> <!--Utilizando um componente externo para mostrar o erro.-->
        </div>

        <div class="form-group col-md-6">
          <label for="complemento">Complemento</label>
          <input type="text" class="form-control" id="complemento"
          name="complemento" ngModel  #complemento="ngModel">
        </div>   
      </div>

      <div class="form-group" [ngClass]="errorStyle(street)"> <!--Fazendo formatação de erros com CSS usando as  classes de forms do Angular (estados do angular sobre os campos : ng-touched & ng-unthouched - ng-dirty &  ng-pristine....), juntamente com classes do framwork CSS-->
      <div>
        <label for="rua">Rua</label>
      </div> 
          <div >
            <input type="text" class="form-control"  id="street"  
            name="street" ngModel required #street="ngModel" >
            <app-field-control-error 
              [showError]="checksValidTouched(street)" 
              errorMessage="Rua">
            </app-field-control-error> <!--Utilizando um componente externo para mostrar o erro.-->
          </div> 
      </div>

      <div class="form-row ">
        <div class="form-group col-md-5" [ngClass]="errorStyle(neighborhood)">
          <label for="neighborhood">Bairro</label>
          <input type="text" class="form-control" id="neighborhood"
          name="neighborhood" ngModel required #neighborhood="ngModel">
            <app-field-control-error 
              [showError]="checksValidTouched(neighborhood)" 
              errorMessage="Bairro">
            </app-field-control-error> <!--Utilizando um componente externo para mostrar o erro.-->
        </div>  

        <div class="form-group col-md-4" [ngClass]="errorStyle(city)">
          <label for="city">Cidade</label>
          <input type="text" class="form-control" id="city"
          name="city" ngModel required #city="ngModel">
            <app-field-control-error 
              [showError]="checksValidTouched(city)" 
              errorMessage="Cidade">
            </app-field-control-error>  <!--Utilizando um componente externo para mostrar o erro.-->
        </div>

        <div class="form-group col-md-3" [ngClass]="errorStyle(state)">
          <label for="state">Estado</label>
          <input type="text" class="form-control" id="state"
          name="state" ngModel required #state="ngModel">
            <app-field-control-error 
              [showError]="checksValidTouched(state)" 
              errorMessage="Estado">
            </app-field-control-error> <!--Utilizando um componente externo para mostrar o erro.-->
        </div>
      </div>
    </div>
     
    <button type="submit" class="btn btn-dark" 
    [disabled]="!form.valid">Enviar</button> <!--Fazendo formatação no botão com base da condição do "form", enquanto não for valido manter desabilitado-->


  <app-form-debug [form]="form"></app-form-debug>

  </form>